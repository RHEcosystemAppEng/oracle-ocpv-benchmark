- name: Configure Oracle Client tnsnames.ora
  hosts: hammerdb-oracle-client-vms
  become: yes
  vars:
    oracle_host: "<REPLACE>"
    oracle_port: "1521"
    oracle_sid: "pdb1"
    tns_admin_path: "/etc/Hammerdb-oracle-tns"  # path to place tnsnames.ora file
    oracle_tns_name: "ORALAB"  # TNS entry name for Oracle connection

  tasks:
    - name: Ensure the {{ tns_admin_path }} directory exists
      file:
        path: "{{ tns_admin_path }}"
        state: directory
        mode: '0755'

    - name: Create tnsnames.ora file for Oracle client
      template:
        src: ../../templates/tnsnames.ora.j2  # Template file containing the TNS entry
        dest: "{{ tns_admin_path }}/tnsnames.ora"
        mode: '0644'